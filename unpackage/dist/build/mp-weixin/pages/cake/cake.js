(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cake/cake"],{"10bd":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"7c99"))},uCellGroup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-cell-group/u-cell-group")]).then(n.bind(null,"3795"))},uCell:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-cell/u-cell")]).then(n.bind(null,"706a"))}},i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.listShow=!t.listShow},t.e1=function(e){t.senceShow=!t.senceShow})},a=[]},"7b52":function(t,e,n){"use strict";var o=n("c090"),i=n.n(o);i.a},8886:function(t,e,n){"use strict";n.r(e);var o=n("10bd"),i=n("95eb");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("7b52");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"8bf1a680",null,!1,o["a"],r);e["default"]=s.exports},"8b5d":function(t,e,n){"use strict";(function(t){n("a69e");o(n("66fd"));var e=o(n("8886"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"95eb":function(t,e,n){"use strict";n.r(e);var o=n("cb75"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},c090:function(t,e,n){},cb75:function(t,e,n){"use strict";(function(t){function n(t){return r(t)||a(t)||i(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function r(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{goodList:[],page:0,tabArr:[{name:"分类",bcid:"",target:""},{name:"蛋糕",bcid:"1",target:"/pages/cake/cake"},{name:"面包",bcid:"11",target:"/pages/bread/bread"},{name:"小食",bcid:"6",target:"/pages/food/food"},{name:"购物车",bcid:"",target:"/pages/cart/cart"}],bottomName:"蛋糕",show:!1,cfylist:[],listShow:!1,senceShow:!1,noProduct:!1,index:0,cakeShow:!1,cakeLen:0,breadLen:0,foodLen:0}},computed:{num:function(){return this.$store.state.count.num},condition:function(){return this.$store.state.condiction.cond},lenArr:function(){return[this.cakeLen,this.breadLen,this.foodLen,0]},carNum:function(){return this.$store.state.cart.cartList.length}},onLoad:function(){var t=this;this.loadData(),this.$get("/1.1/classes/classify").then((function(e){t.cfylist=e.results,console.log("分类",t.cfylist)}))},onReachBottom:function(){this.loadData()},onPullDownRefresh:function(){this.reLoadData()},methods:{goDetail:function(e){t.navigateTo({url:"../detail/detail?idx="+e})},loadData:function(){var e=this,o=8*this.page,i=JSON.stringify(this.condition),a="/1.1/classes/goods?where=".concat(i,"&limit=8&&skip=").concat(o);this.$get(a).then((function(o){t.stopPullDownRefresh();var i=o.results;if(console.log(i),i.length)return e.page++,void(e.goodList=[].concat(n(e.goodList),n(o.results)));e.noProduct=!0,t.showToast({title:"到头了",icon:"none"})}));var r='/1.1/classes/goods?where={"bcid":1}',c='/1.1/classes/goods?where={"bcid":11}',s='/1.1/classes/goods?where={"bcid":6}';this.$get(r).then((function(t){e.cakeLen=t.results.length,console.log()})),this.$get(c).then((function(t){e.breadLen=t.results.length})),this.$get(s).then((function(t){e.foodLen=t.results.length}))},reLoadData:function(){this.goodList=[],this.page=0,this.noProduct=!1,this.loadData()},changeData:function(e){var n=e.bcid,o=e.target;this.bottomName=e.name,n&&(this.goodList=[],this.page=0,this.$store.commit("changeCondition",{bcid:Number(n)}),this.loadData()),n||o||(this.show=!0),!n&&o&&t.navigateTo({url:o})},handlerClose:function(){this.show=!1},handlerList:function(t){var e=t.bid,n=t.tid;this.$store.commit("changeCondition",{bcid:e,fid:n}),this.reLoadData()},handlerscene:function(t){var e=t.bid,n=t.tid;this.$store.commit("changeCondition",{bcid:e,sid:n}),this.reLoadData()},handlerClass:function(t,e){var n=t.bid;0!=e&&(this.$store.commit("changeCondition",{bcid:n}),this.reLoadData())}}};e.default=s}).call(this,n("543d")["default"])}},[["8b5d","common/runtime","common/vendor"]]]);